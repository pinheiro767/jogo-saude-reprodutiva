<!doctype html>
<html lang="pt-BR">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Verdade ou Mito: Sa√∫de Sexual - O Desafio</title>
  <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
  
  <style>
        :root {
            --color-primary: #667eea; /* Azul/Roxo */
            --color-secondary: #764ba2; /* Roxo Escuro */
            --color-success: #4CAF50; /* Verde */
            --color-danger: #f44336; /* Vermelho */
            --color-background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --color-text: #333;
        }

        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Open Sans', sans-serif;
            background: var(--color-background);
            min-height: 100vh;
            color: var(--color-text);
        }

        html, body {
            height: 100%;
        }

        .screen {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
        }

        .hidden {
            display: none !important;
        }

        /* Start Screen */
        .intro-message {
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 600px;
            margin: 20px;
        }

        .video-container {
            max-width: 100%;
            margin: 0 auto 20px;
            overflow: hidden;
            border-radius: 10px;
        }

        #intro-video {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .intro-image-girl {
            width: 150px; 
            height: auto; 
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-family: 'Bangers', cursive;
            font-size: 2.5rem;
            color: var(--color-primary);
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .intro-message p {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 30px;
            color: #555;
        }

        /* Game Screen */
        .header-game {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 800px;
            margin-bottom: 30px;
            padding: 0 20px;
        }

        .score-display, .counter-display {
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            color: var(--color-secondary);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .question-box {
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 700px;
            margin-bottom: 30px;
        }

        .question-box h2 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #333;
            line-height: 1.4;
        }

        .theme-tag {
            background: var(--color-primary);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 20px;
        }

        .question-img {
            width: 100%;
            max-width: 300px;
            height: auto;
            object-fit: contain;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        /* Buttons */
        .btn {
            background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            margin: 10px;
            text-transform: uppercase;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .button-container {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 30px;
        }

        .btn-choice {
            min-width: 150px;
            font-size: 1.2rem;
        }

        .btn-choice.correct {
            background: linear-gradient(45deg, var(--color-success), #45a049);
        }

        .btn-choice.incorrect {
            background: linear-gradient(45deg, var(--color-danger), #d32f2f);
        }

        /* Feedback */
        .feedback-box {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 600px;
            margin-top: 20px;
            border: 3px solid transparent;
        }

        .feedback-box.correct-style {
            border-color: var(--color-success);
        }

        .feedback-box.wrong-style {
            border-color: var(--color-danger);
        }

        .explanation {
            font-style: italic;
            color: #666;
            line-height: 1.6;
            margin-top: 15px;
        }

        /* Risk question indicator */
        .risk-question {
            border: 3px solid var(--color-danger);
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
        }

        .risk-indicator {
            background: var(--color-danger);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 15px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        /* End Screen */
        .end-image-boy {
            width: 150px;
            height: auto;
            border-radius: 50%;
            margin-bottom: 30px;
            object-fit: cover;
            border: 4px solid var(--color-primary);
        }

        #end-screen h2 {
            font-family: 'Bangers', cursive;
            font-size: 3rem;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
        }

        #end-screen p {
            font-size: 1.2rem;
            color: white;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
    </style>
 </head>
 <body>
  <main>
   <div id="start-screen" class="screen">
    <div class="intro-message">
     <div class="video-container">
      <video id="intro-video" width="100%" autoplay muted playsinline>
       <source src="media/1000007081.mp4" type="video/mp4">
       Seu navegador n√£o suporta a tag de v√≠deo.
      </video>
     </div>
     <img id="intro-image-girl" src="media/Gemini_Generated_Image_2oxeve2oxeve2oxe.jpg" alt="Agora voc√™ faz parte do meu time!" class="intro-image-girl">
     <h1 id="quiz-title">Verdade ou Mito: Teste seu Conhecimento!</h1>
     <p id="intro-text">Junte-se ao nosso time! Responda corretamente para acumular **moedas**. Errar as perguntas de **risco** aciona a **BOMBA** e reinicia o desafio!</p>
     <button id="start-button" class="btn">Come√ßar o Desafio</button>
    </div>
   </div>

   <div id="game-screen" class="screen hidden">
    <div class="header-game">
        <span id="score" class="score-display">ü™ô 0 Moedas</span>
        <span id="question-counter" class="counter-display">Quest√£o: 1/34</span>
    </div>
    <div id="question-box" class="question-box">
     <div id="risk-indicator" class="risk-indicator hidden">
      ‚ö†Ô∏è PERGUNTA DE RISCO - CUIDADO COM A BOMBA! ‚ö†Ô∏è
     </div>
     <h2 id="question-text"></h2>
     <p id="theme-text" class="theme-tag"></p>
     <img id="question-image" src="" alt="Imagem tem√°tica" class="question-img">
    </div>
    <div class="button-container">
        <button class="btn btn-choice" data-answer="VERDADEIRO">VERDADEIRO</button>
        <button class="btn btn-choice" data-answer="FALSO">FALSO</button>
    </div>
    <div id="feedback-box" class="feedback-box hidden">
     <p id="feedback-text"></p>
     <p id="explanation-text" class="explanation"></p>
     <button id="next-button" class="btn btn-next">Pr√≥xima Pergunta</button>
    </div>
   </div>

   <div id="end-screen" class="screen hidden">
    <img id="end-image-boy" src="media/1000007043.png" alt="Parab√©ns!" class="end-image-boy">
    <h2>FIM DE JOGO!</h2>
    <p>Voc√™ completou o desafio com sucesso!</p>
    <p id="final-score">Sua pontua√ß√£o final foi: 0 Moedas</p>
    <button id="restart-button" class="btn">Jogar Novamente</button>
   </div>
  </main>

  <script>
    // ----------------------------------------------------------------------
    // Vari√°veis de Configura√ß√£o e Elementos
    // ----------------------------------------------------------------------

    // !!! ATEN√á√ÉO !!!
    // Se voc√™ est√° usando a pasta 'assets/audio/' no GitHub, mude a linha abaixo:
    // const MEDIA_PATH = "assets/audio/"; 
    const MEDIA_PATH = "media/"; 
    
    const MEDIA = {
        QUESTION: MEDIA_PATH + "1000007040.png",
        CORRECT: MEDIA_PATH + "1000007043.png",
        WRONG: MEDIA_PATH + "1000007045.png",
        IDEA: MEDIA_PATH + "1000007035.png",
        END_SCREEN: MEDIA_PATH + "1000007044.png",
        INTRO_VIDEO: MEDIA_PATH + "1000007081.mp4",
        INTRO_GIRL: MEDIA_PATH + "Gemini_Generated_Image_2oxeve2oxeve2oxe.jpg",
        END_BOY: MEDIA_PATH + "1000007043.png" 
    };
    
    // Refer√™ncias DOM (carregadas uma √∫nica vez)
    const DOM = {
        startScreen: document.getElementById('start-screen'),
        gameScreen: document.getElementById('game-screen'),
        endScreen: document.getElementById('end-screen'),
        startButton: document.getElementById('start-button'),
        restartButton: document.getElementById('restart-button'),
        questionText: document.getElementById('question-text'),
        themeText: document.getElementById('theme-text'),
        questionBox: document.getElementById('question-box'),
        riskIndicator: document.getElementById('risk-indicator'),
        questionImage: document.getElementById('question-image'),
        choiceButtons: document.querySelectorAll('.btn-choice'),
        feedbackBox: document.getElementById('feedback-box'),
        feedbackText: document.getElementById('feedback-text'),
        explanationText: document.getElementById('explanation-text'),
        nextButton: document.getElementById('next-button'),
        scoreDisplay: document.getElementById('score'),
        questionCounter: document.getElementById('question-counter'),
        finalScore: document.getElementById('final-score'),
        introVideo: document.getElementById('intro-video'),
        introImageGirl: document.getElementById('intro-image-girl'),
        endImageBoy: document.getElementById('end-image-boy')
    };

    // Banco de Perguntas
    const allQuestions = [
        // -------------------------------------------------------------------------------------
        // PERGUNTAS DE RISCO (Errar reinicia - 20 MOEDAS)
        // -------------------------------------------------------------------------------------
        { question: "Esquecer a p√≠lula anticoncepcional num dia, mas tom√°-la no dia seguinte, anula completamente o risco de gravidez.", answer: "FALSO", theme: "Risco/Contracep√ß√£o", isRisk: true, explanation: "A efic√°cia √© reduzida. M√©todos adicionais devem ser usados. A prote√ß√£o n√£o √© 100% garantida." },
        { question: "√â seguro usar dois preservativos ao mesmo tempo para maior prote√ß√£o.", answer: "FALSO", theme: "Risco/Preservativo", isRisk: true, explanation: "Usar dois preservativos aumenta o atrito e a chance de ambos se rasgarem. Use sempre apenas um." },
        { question: "A p√≠lula do dia seguinte pode ser usada como m√©todo contraceptivo regular.", answer: "FALSO", theme: "Risco/Emerg√™ncia", isRisk: true, explanation: "√â s√≥ para emerg√™ncias. O uso regular causa desequil√≠brio hormonal e √© menos eficaz que m√©todos di√°rios." },
        { question: "Toda IST apresenta sintomas vis√≠veis.", answer: "FALSO", theme: "Risco/ISTs", isRisk: true, explanation: "Muitas ISTs (como Clam√≠dia e HPV) s√£o assintom√°ticas por longos per√≠odos. Testes regulares e preservativo s√£o cruciais." },
        { question: "O preservativo protege contra toda IST.", answer: "FALSO", theme: "Risco/ISTs", isRisk: true, explanation: "Protege a maioria, mas ISTs como HPV e Herpes podem ser transmitidas por contato com √°reas da pele n√£o cobertas." },
        { question: "Lubrificantes √† base de √≥leo s√£o seguros para usar com preservativos de l√°tex.", answer: "FALSO", theme: "Risco/Preservativo", isRisk: true, explanation: "Lubrificantes √† base de √≥leo danificam o l√°tex, tornando o preservativo ineficaz e propenso a rasgar. Use √† base de √°gua ou silicone." },
        { question: "O sexo anal √© uma pr√°tica de baixo risco para a transmiss√£o de IST em compara√ß√£o com o sexo vaginal.", answer: "FALSO", theme: "Risco/Preven√ß√£o", isRisk: true, explanation: "√â de alto risco devido √† maior fragilidade do tecido anal. O uso correto do preservativo e lubrificante √© essencial." },
        { question: "A ducha vaginal ap√≥s a rela√ß√£o sexual √© um m√©todo eficaz para prevenir a gravidez e a IST.", answer: "FALSO", theme: "Risco/Mitos", isRisk: true, explanation: "Mito. A ducha desequilibra a flora vaginal e pode empurrar bact√©rias/v√≠rus, aumentando o risco de infec√ß√µes." },
        { question: "Durante a menstrua√ß√£o n√£o tem risco de engravidar.", answer: "FALSO", theme: "Risco/Reprodu√ß√£o", isRisk: true, explanation: "Mito. O risco √© menor, mas espermatozoides podem sobreviver por dias. A gravidez ainda √© uma possibilidade, especialmente com ciclos irregulares." },
        { question: "IST √© um problema de sa√∫de apenas para pessoas sexualmente ativas com m√∫ltiplos parceiros.", answer: "FALSO", theme: "Risco/ISTs", isRisk: true, explanation: "Qualquer pessoa sexualmente ativa pode contrair uma IST. O risco est√° na pr√°tica desprotegida." },
        { question: "√â poss√≠vel ter uma DST e n√£o saber.", answer: "VERDADEIRO", theme: "Risco/DSTs", isRisk: true, explanation: "Sim, muitas DSTs podem ser assintom√°ticas por longos per√≠odos. Exames regulares s√£o essenciais para detec√ß√£o precoce." },
        { question: "Na pressa, rasgar a embalagem da camisinha com os dentes ou unhas n√£o compromete a prote√ß√£o.", answer: "FALSO", theme: "Risco/Uso Correto", isRisk: true, explanation: "Um microfuro invis√≠vel anula a prote√ß√£o. Use os dedos para rasgar na borda serrilhada." },
        { question: "Se come√ßar a desenrolar a camisinha masculina pelo lado errado e tocar o p√™nis, basta vir√°-la para o lado certo e continuar o uso.", answer: "FALSO", theme: "Risco/Uso Correto", isRisk: true, explanation: "Jogue fora e pegue outra! Fluidos pr√©-ejaculat√≥rios podem ter entrado em contato com a parte interna." },
        { question: "O erro mais comum ao usar um preservativo masculino √© n√£o retirar o ar da ponta (reservat√≥rio) antes de desenrolar.", answer: "VERDADEIRO", theme: "Risco/Uso Correto", isRisk: true, explanation: "A bolha de air na ponta pode causar o rompimento do preservativo. Aperte suavemente a ponta (reservat√≥rio) antes de colocar." },

        // -------------------------------------------------------------------------------------
        // PERGUNTAS NORMAIS (Errar n√£o reinicia - 10 MOEDAS)
        // -------------------------------------------------------------------------------------
        { question: "O calor e a fric√ß√£o (como guardar na carteira) podem danificar o l√°tex de um preservativo.", answer: "VERDADEIRO", theme: "Preservativo", isRisk: false, explanation: "Guarde em local fresco, seco e protegido (como um bolso da mochila) e verifique sempre o prazo de validade." },
        { question: "Existem preservativos para tamanhos de p√™nis fora da m√©dia (maior ou menor).", answer: "VERDADEIRO", theme: "Preservativo", isRisk: false, explanation: "Sim! Existem com di√¢metros diferentes para garantir conforto. A informa√ß√£o est√° na embalagem." },
        { question: "Deve-se usar camisinha para fazer sexo oral.", answer: "VERDADEIRO", theme: "Preven√ß√£o", isRisk: false, explanation: "Sim, para evitar a transmiss√£o de ISTs caso haja ferimento na boca. Existem preservativos com sabor." },
        { question: "O lubrificante s√≥ serve para quem faz sexo anal.", answer: "FALSO", theme: "Sexualidade", isRisk: false, explanation: "N√£o! Lubrifica√ß√£o aumenta o prazer, facilita a penetra√ß√£o e diminui o atrito em qualquer pr√°tica sexual." },
        { question: "O anel externo do preservativo feminino serve para mant√™-lo no lugar fora da vagina (ou √¢nus).", answer: "VERDADEIRO", theme: "Preservativo Feminino", isRisk: false, explanation: "Ele mant√©m o preservativo cobrindo a √°rea externa e √© usado para guiar a inser√ß√£o e remo√ß√£o." },
        { question: "A principal vantagem em usar preservativo feminino √© dar √† mulher autonomia e controle sobre a prote√ß√£o durante o sexo.", answer: "VERDADEIRO", theme: "Preservativo Feminino", isRisk: false, explanation: "√â um m√©todo que permite √† mulher ter controle total sobre o momento da preven√ß√£o." },
        { question: "A mulher pode inserir o preservativo feminino at√© 8 horas antes da rela√ß√£o sexual.", answer: "VERDADEIRO", theme: "Preservativo Feminino", isRisk: false, explanation: "Sim, isso aumenta a conveni√™ncia e espontaneidade da rela√ß√£o." },
        { question: "Para introduzir a camisinha na vagina, deve-se apertar o anel interno e inseri-lo como um absorvente interno.", answer: "VERDADEIRO", theme: "Preservativo Feminino", isRisk: false, explanation: "Aperte o anel interno (o menor) e empurre. Depois, posicione o anel externo para cobrir a vulva." },
        { question: "√â poss√≠vel conseguir camisinha feminina gratuitamente na UPA ou em farm√°cias.", answer: "FALSO", theme: "Preservativo Feminino", isRisk: false, explanation: "Mito. √â gratuita em UPAs e postos de sa√∫de, mas nas farm√°cias √© preciso comprar." },
        { question: "O diafragma, quando usado com gel espermicida, funciona como m√©todo contraceptivo de 'barreira'.", answer: "VERDADEIRO", theme: "M√©todos de Barreira", isRisk: false, explanation: "O diafragma √© um exemplo de m√©todo de barreira, mas depende do espermicida para ser seguro e eficaz." },
        { question: "A fun√ß√£o da p√≠lula do dia seguinte √© dificultar a movimenta√ß√£o do espermatozoide e inibir ou atrasar a ovula√ß√£o.", answer: "VERDADEIRO", theme: "Contracep√ß√£o de Emerg√™ncia", isRisk: false, explanation: "Seu objetivo √© impedir a fecunda√ß√£o por meio de alta dose hormonal." },
        { question: "A p√≠lula do dia seguinte tem efeito colateral, sendo os mais comuns dores nas mamas, diarreia, v√¥mito e atrasos na menstrua√ß√£o.", answer: "VERDADEIRO", theme: "Contracep√ß√£o de Emerg√™ncia", isRisk: false, explanation: "Sim, devido √† alta carga hormonal. Se ocorrer v√¥mito logo ap√≥s a ingest√£o, procure orienta√ß√£o m√©dica." },
        { question: "O √∫nico m√©todo contraceptivo que oferece prote√ß√£o contra a maioria das ISTs √© o preservativo (feminino ou masculino).", answer: "VERDADEIRO", theme: "Contracep√ß√£o", isRisk: false, explanation: "Sim, oferece dupla prote√ß√£o: contra a gravidez e contra a maioria das ISTs." },
        { question: "Consentimento Cont√≠nuo significa que o consentimento deve ser dado e pode ser retirado a qualquer momento da atividade sexual.", answer: "VERDADEIRO", theme: "Consentimento", isRisk: false, explanation: "O consentimento anterior n√£o garante o atual. Ele deve ser claro, entusi√°stico e cont√≠nuo." },
        { question: "Orienta√ß√£o Sexual √© a atra√ß√£o emocional por outras pessoas, e Identidade de G√™nero √© o sentido interno de ser homem, mulher, ambos ou nenhum.", answer: "VERDADEIRO", theme: "Orienta√ß√£o Sexual", isRisk: false, explanation: "S√£o conceitos distintos. Orienta√ß√£o √© por quem voc√™ sente atra√ß√£o; G√™nero √© quem voc√™ √©." },
        { question: "Bissexual sente atra√ß√£o por mais de um g√™nero, e Assexual tem falta de atra√ß√£o sexual.", answer: "VERDADEIRO", theme: "Orienta√ß√£o Sexual", isRisk: false, explanation: "Estas s√£o as defini√ß√µes b√°sicas dessas orienta√ß√µes sexuais." },
        { question: "Na hora de tirar a camisinha masculina, √© crucial segurar a borda na base do p√™nis antes de retir√°-lo.", answer: "VERDADEIRO", theme: "Uso Correto", isRisk: false, explanation: "Isso garante que o s√™men fique preso e n√£o vaze, especialmente se o p√™nis come√ßar a amolecer." },
        { question: "NUNCA se deve usar camisinha feminina junto com a camisinha masculina.", answer: "VERDADEIRO", theme: "Uso Correto", isRisk: false, explanation: "O atrito entre os dois materiais pode rasgar ambas as camisinhas. Escolha um ou outro." },
        { question: "Na hora de tirar o preservativo feminino, voc√™ deve torcer o anel externo para 'fechar' a bolsa e prender o s√™men.", answer: "VERDADEIRO", theme: "Uso Correto", isRisk: false, explanation: "Torcer o anel externo evita que o s√™men escorra. Depois, descarte no lixo." },
        { question: "Comunica√ß√£o aberta e consentimento s√£o a base de qualquer rela√ß√£o sexual saud√°vel e respeitosa.", answer: "VERDADEIRO", theme: "Curiosidade", isRisk: false, explanation: "O consentimento deve ser claro, entusi√°stico e garantir que ambos se sintam seguros e confort√°veis." }
    ];

    // ----------------------------------------------------------------------
    // Controlador de Jogo (L√≥gica Principal)
    // ----------------------------------------------------------------------
    const GameController = {
        currentQuestionIndex: 0,
        score: 0,
        gameQuestions: [],

        /**
         * Embaralha um array (algoritmo Fisher-Yates).
         * @param {Array} array 
         */
        shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        },

        // Inicia o jogo
        initGame() {
            this.gameQuestions = [...allQuestions];
            this.shuffle(this.gameQuestions);
            this.currentQuestionIndex = 0;
            this.score = 0;
            this.updateDisplay();
            this.showQuestion();
        },

        updateDisplay() {
            DOM.scoreDisplay.textContent = `ü™ô ${this.score} Moedas`;
            DOM.questionCounter.textContent = `Quest√£o: ${this.currentQuestionIndex + 1}/${this.gameQuestions.length}`;
        },

        showQuestion() {
            if (this.currentQuestionIndex >= this.gameQuestions.length) {
                this.endGame();
                return;
            }
            
            const question = this.gameQuestions[this.currentQuestionIndex];
            
            DOM.questionText.textContent = question.question;
            
            const themeParts = question.theme.split('/');
            DOM.themeText.textContent = 'TEMA: ' + themeParts[themeParts.length - 1]; 
            
            DOM.questionImage.src = MEDIA.QUESTION; 

            // Limpa e esconde o feedback
            DOM.feedbackBox.classList.add('hidden');
            DOM.feedbackBox.classList.remove('correct-style', 'wrong-style');

            // L√≥gica de Risco
            if (question.isRisk) {
                DOM.riskIndicator.classList.remove('hidden');
                DOM.questionBox.classList.add('risk-question');
            } else {
                DOM.riskIndicator.classList.add('hidden');
                DOM.questionBox.classList.remove('risk-question');
            }
            
            // Reset buttons
            DOM.choiceButtons.forEach(btn => {
                btn.classList.remove('correct', 'incorrect');
                btn.disabled = false;
                btn.style.opacity = '1';
            });
            
            this.updateDisplay();
        },

        handleAnswer(selectedAnswer) {
            const question = this.gameQuestions[this.currentQuestionIndex];
            const isCorrect = selectedAnswer === question.answer;
            
            // Desabilita e colore os bot√µes
            DOM.choiceButtons.forEach(btn => {
                btn.disabled = true;
                btn.style.opacity = '0.5';
                if (btn.dataset.answer === question.answer) {
                    btn.classList.add('correct');
                } else if (btn.dataset.answer === selectedAnswer && !isCorrect) {
                    btn.classList.add('incorrect');
                    btn.style.opacity = '1';
                }
            });
            
            // Mostra feedback
            DOM.feedbackBox.classList.remove('hidden');
            DOM.explanationText.textContent = question.explanation;
            
            if (isCorrect) {
                const points = question.isRisk ? 20 : 10;
                this.score += points;
                
                DOM.feedbackBox.classList.add('correct-style');
                DOM.questionImage.src = question.isRisk ? MEDIA.CORRECT : MEDIA.IDEA; 
                
                DOM.feedbackText.textContent = question.isRisk ? 
                    `üéâ CORRETO! Pergunta de Risco! Voc√™ ganhou ${points} Moedas!` : 
                    `‚úÖ CORRETO! Voc√™ ganhou ${points} Moedas!`;
                
                DOM.nextButton.textContent = "Pr√≥xima Pergunta";
                DOM.nextButton.onclick = () => this.nextQuestion(); 

            } else {
                DOM.feedbackBox.classList.add('wrong-style');
                DOM.questionImage.src = MEDIA.WRONG; 
                
                if (question.isRisk) {
                    // Penalidade BOMBA!
                    DOM.feedbackText.textContent = "üí• BOMBA! INCORRETO na Pergunta de Risco. Voc√™ perdeu tudo!";
                    DOM.nextButton.textContent = "Recome√ßar Jogo";
                    DOM.nextButton.onclick = () => this.restartGame(); 
                } else {
                    // Erro normal
                    DOM.feedbackText.textContent = "‚ùå INCORRETO! A resposta correta √© " + question.answer + ".";
                    DOM.nextButton.textContent = "Pr√≥xima Pergunta";
                    DOM.nextButton.onclick = () => this.nextQuestion();
                }
            }
            
            this.updateDisplay();
        },

        nextQuestion() {
            this.currentQuestionIndex++;
            this.showQuestion();
        },

        endGame() {
            DOM.gameScreen.classList.add('hidden');
            DOM.endScreen.classList.remove('hidden');
            DOM.endImageBoy.src = MEDIA.END_SCREEN;
            DOM.finalScore.textContent = `Sua pontua√ß√£o final foi: ${this.score} Moedas`;
        },

        startGame() {
            // Controle de Tela e V√≠deo
            DOM.introVideo.pause();
            DOM.introVideo.currentTime = 0;
            DOM.startScreen.classList.add('hidden');
            DOM.gameScreen.classList.remove('hidden');
            
            this.initGame();
        },

        restartGame() {
            // Controle de Tela
            DOM.endScreen.classList.add('hidden');
            DOM.gameScreen.classList.add('hidden');
            DOM.startScreen.classList.remove('hidden');
            
            // Controle do V√≠deo
            DOM.introVideo.load();
            DOM.introVideo.play().catch(e => console.log("Autoplay do v√≠deo falhou, aguardando clique do usu√°rio."));
        }
    };

    // ----------------------------------------------------------------------
    // Inicializa√ß√£o e Event Listeners
    // ----------------------------------------------------------------------
    function initEventListeners() {
        DOM.startButton.addEventListener('click', () => GameController.startGame());
        DOM.restartButton.addEventListener('click', () => GameController.restartGame());

        DOM.choiceButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                GameController.handleAnswer(btn.dataset.answer);
            });
        });
    }
    
    // Fun√ß√£o executada quando a p√°gina √© completamente carregada
    window.onload = () => {
        // Inicializa as imagens com os caminhos corretos (incluindo o caminho de m√≠dia)
        DOM.introVideo.querySelector('source').src = MEDIA.INTRO_VIDEO;
        DOM.introImageGirl.src = MEDIA.INTRO_GIRL;
        DOM.endImageBoy.src = MEDIA.END_BOY;

        // Tenta iniciar o v√≠deo mutado na tela inicial
        DOM.introVideo.play().catch(e => console.log("Autoplay do v√≠deo falhou, aguardando clique do usu√°rio."));
        
        initEventListeners();
    };
  </script>
 </body>
</html>
